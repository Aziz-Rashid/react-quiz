{"ast":null,"code":"import _toConsumableArray from\"/home/aziz/Desktop/react-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/aziz/Desktop/react-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aziz/Desktop/react-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aziz/Desktop/react-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{fetchQuizQuestions}from'./API';import Question from'./components/Question';import{Difficulty}from'./API';import'./app.css';import Button from'@material-ui/core/Button';import spinner from'./images/spinner.gif';var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),questions=_useState4[0],setQuestions=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userAnswers=_useState8[0],setUserAnswers=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),score=_useState10[0],setScore=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),gameOver=_useState12[0],setGameOver=_useState12[1];var _useState13=useState(3),_useState14=_slicedToArray(_useState13,2),inp=_useState14[0],setinp=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),yes=_useState16[0],setyes=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),select=_useState18[0],setselect=_useState18[1];var TOTAL_QUESTIONS=inp;var change=function change(e){setinp(e.target.value);};var setdata=function setdata(){if(inp>3){setyes(true);}};var opt=function opt(e){setselect(e.target.value);};console.log(select);var Quiz=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newQuestions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);setGameOver(false);_context.next=4;return fetchQuizQuestions(TOTAL_QUESTIONS,Difficulty.EASY);case 4:newQuestions=_context.sent;setQuestions(newQuestions);setScore(0);setUserAnswers([]);setNumber(0);setLoading(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function Quiz(){return _ref.apply(this,arguments);};}();var checkAnswer=function checkAnswer(e){if(!gameOver){var answer=e.currentTarget.value;var correct=questions[number].correct_answer===answer;if(correct)setScore(function(prev){return prev+1;});var answerObject={question:questions[number].question,answer:answer,correct:correct,correctAnswer:questions[number].correct_answer};setUserAnswers(function(prev){return[].concat(_toConsumableArray(prev),[answerObject]);});}};var nextQuestion=function nextQuestion(){var nextQ=number+1;if(nextQ===TOTAL_QUESTIONS){setGameOver(true);}else{setNumber(nextQ);}};var _React$useState=React.useState(500),_React$useState2=_slicedToArray(_React$useState,2),counter=_React$useState2[0],setCounter=_React$useState2[1];React.useEffect(function(){var timer=counter>0&&setInterval(function(){return setCounter(counter-1);},1000);return function(){return clearInterval(timer);};},[counter]);if(yes===false){return/*#__PURE__*/React.createElement(\"div\",{className:\"maindiv\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"heading\"},\"Select your quiz questions and Difficulty!\"),/*#__PURE__*/React.createElement(\"input\",{className:\"main\",type:\"number\",onChange:change,placeholder:\"How much questions you want to solve!\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"para\"},\"select your quiz Difficulty!\"),/*#__PURE__*/React.createElement(\"select\",{onChange:opt,className:\"option\"},/*#__PURE__*/React.createElement(\"option\",{value:\"EASY\"},\"Easy\"),/*#__PURE__*/React.createElement(\"option\",{value:\"MEDIUM\"},\"MEDIUM\"),/*#__PURE__*/React.createElement(\"option\",{value:\"HARD\"},\"HARD\")),/*#__PURE__*/React.createElement(\"div\",{className:\"div\"},/*#__PURE__*/React.createElement(Button,{className:\"bt\",variant:\"contained\",color:\"primary\",onClick:setdata},\"click me \")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"bg\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Quiz app! \"),gameOver||userAnswers.length===TOTAL_QUESTIONS?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{className:\"btn\",variant:\"contained\",color:\"primary\",onClick:Quiz},\"Start Quiz\")):null,!gameOver?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"score\"},\"Score: \",score),\" \",/*#__PURE__*/React.createElement(\"h3\",{className:\"time\"},\"Time Remaining: \",counter)):null,loading?/*#__PURE__*/React.createElement(\"img\",{src:spinner,alt:\"\",width:\"50%\"}):null,!loading&&!gameOver&&/*#__PURE__*/React.createElement(Question,{questionNr:number+1,totalQuestions:TOTAL_QUESTIONS,question:questions[number].question,answers:questions[number].answers,userAnswer:userAnswers?userAnswers[number]:undefined,callback:checkAnswer}),!gameOver&&!loading&&userAnswers.length===number+1&&number!==TOTAL_QUESTIONS-1?/*#__PURE__*/React.createElement(Button,{className:\"btn\",variant:\"contained\",color:\"primary\",onClick:nextQuestion},\"Next Question\"):null);};export default App;","map":{"version":3,"sources":["/home/aziz/Desktop/react-quiz/src/App.tsx"],"names":["React","useState","fetchQuizQuestions","Question","Difficulty","Button","spinner","App","loading","setLoading","questions","setQuestions","number","setNumber","userAnswers","setUserAnswers","score","setScore","gameOver","setGameOver","inp","setinp","yes","setyes","select","setselect","TOTAL_QUESTIONS","change","e","target","value","setdata","opt","console","log","Quiz","EASY","newQuestions","checkAnswer","answer","currentTarget","correct","correct_answer","prev","answerObject","question","correctAnswer","nextQuestion","nextQ","counter","setCounter","useEffect","timer","setInterval","clearInterval","length","answers","undefined"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { fetchQuizQuestions } from './API';\nimport Question from './components/Question';\nimport { QuestionsState, Difficulty } from './API';\nimport './app.css'\nimport Button from '@material-ui/core/Button';\nimport spinner from './images/spinner.gif'\n\nexport type AnswerObject = {\n  question: string;\n  answer: string;\n  correct: boolean;\n  correctAnswer: string;\n};\n \n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const [questions, setQuestions] = useState<QuestionsState[]>([]);\n  const [number, setNumber] = useState(0);\n  const [userAnswers, setUserAnswers] = useState<AnswerObject[]>([]);\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(true);\n  const [inp,setinp] = useState(3)\n  const [yes,setyes] = useState(false)\n  const [select,setselect] = useState({})\n  let TOTAL_QUESTIONS = inp;\n  const change = (e:any) =>{\n    setinp(e.target.value)\n  }\n  const setdata = () =>{\n    if(inp > 3){\n      setyes(true)\n    }\n  }\n  const opt = (e:any) =>{\n      setselect(e.target.value)\n  }\n  console.log(select)\n  const Quiz = async () => {\n    setLoading(true);\n    setGameOver(false);\n    const newQuestions = await fetchQuizQuestions(\n      TOTAL_QUESTIONS,\n      Difficulty.EASY\n    );\n    setQuestions(newQuestions);\n    setScore(0);\n    setUserAnswers([]);\n    setNumber(0);\n    setLoading(false);\n  };\n\n  const checkAnswer = (e: any) => {\n    if (!gameOver) {\n      const answer = e.currentTarget.value;\n      const correct = questions[number].correct_answer === answer;\n      if (correct) setScore((prev) => prev + 1);\n      const answerObject = {\n        question: questions[number].question,\n        answer,\n        correct,\n        correctAnswer: questions[number].correct_answer,\n      };\n      setUserAnswers((prev) => [...prev, answerObject]);\n    }\n  };\n  \n  const nextQuestion = () => {\n    const nextQ = number + 1;\n\n    if (nextQ === TOTAL_QUESTIONS) {\n      setGameOver(true);\n    } else {\n      setNumber(nextQ);\n    }\n  };\n  const [counter, setCounter] = React.useState(500);\n  React.useEffect(() => {\n    const timer:any = counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\n    return () => clearInterval(timer);\n  }, [counter]);\n  if(yes === false  ){\n    return(\n\n    <div className=\"maindiv\">\n      <h3 className=\"heading\">Select your quiz questions and Difficulty!</h3>\n      <input className=\"main\" type=\"number\" onChange={change} placeholder=\"How much questions you want to solve!\"/>\n      <p className=\"para\">select your quiz Difficulty!</p>\n      <select onChange={opt} className=\"option\">\n        <option value={\"EASY\"}>Easy</option>\n        <option  value={\"MEDIUM\"}>MEDIUM</option>\n        <option value={\"HARD\"}>HARD</option>\n      </select>\n      <div className=\"div\">\n      <Button className=\"bt\" variant=\"contained\" color=\"primary\" onClick={setdata}>click me </Button>\n      </div></div>\n    )\n  }\n  return (\n    <div className=\"bg\">\n      <h1 >Quiz app! </h1>\n      \n      {gameOver || userAnswers.length === TOTAL_QUESTIONS ? (\n        <div >\n          <Button className=\"btn\" variant=\"contained\" color=\"primary\" onClick={Quiz}>\n            Start Quiz\n              </Button>\n        </div>\n      ) : null}\n      {!gameOver ? <div><h1 className='score'>Score: {score}</h1> <h3 className=\"time\">Time Remaining: {counter}</h3></div>  : null}\n     \n      {loading ? <img src={spinner} alt=\"\"  width=\"50%\"/> : null}\n      {!loading && !gameOver && (\n        <Question\n          questionNr={number + 1}\n          totalQuestions={TOTAL_QUESTIONS}\n          question={questions[number].question}\n          answers={questions[number].answers}\n          userAnswer={userAnswers ? userAnswers[number] : undefined}\n          callback={checkAnswer}\n        />\n      )}\n      {!gameOver && !loading && userAnswers.length === number + 1 && number !== TOTAL_QUESTIONS - 1 ? (\n        <Button className=\"btn\" variant=\"contained\" color=\"primary\" onClick={nextQuestion}>\n          Next Question\n        </Button>\n      ) : null}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}